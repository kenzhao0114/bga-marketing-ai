# BGA Marketing AI - B2Bデジタルマーケティング自動化SaaS

## プロジェクト概要

生成AI活用のB2Bデジタルマーケティング自動化SaaS「BGA Marketing AI」のPhase 0 社内MVP版です。

### 🎯 プロジェクト目標
- **生産性向上**: マーケティング業務工数を最大70%削減
- **リスク軽減**: 景表法・薬機法等の法令違反を自動検知
- **ROI向上**: データ駆動によるマーケティング効果最大化

### ⚡ キーコンセプト
- **「誰でも90秒で効果把握」** - 直感的なダッシュボードで即座に成果確認
- **「3クリックで実施」** - 簡単操作でコンテンツ生成から配信まで
- **法令チェック×AI生成** - 安全性と効率性を両立

## 🌐 アクセス情報

### 本番URL
- **メインアプリケーション**: https://3000-idj9gq33xp2widb9xpkd5-6532622b.e2b.dev
- **API健康状態**: https://3000-idj9gq33xp2widb9xpkd5-6532622b.e2b.dev/api/health
- **ダッシュボード**: https://3000-idj9gq33xp2widb9xpkd5-6532622b.e2b.dev/dashboard

### テストアカウント（Phase 0 社内MVP）
```
メールアドレス: admin@bga.co.jp
テナントID: bga-internal
権限: 管理者（全機能利用可能）

その他のテストアカウント:
- director@bga.co.jp (ディレクター権限)
- producer@bga.co.jp (プロデューサー権限)
- member@bga.co.jp (メンバー権限)
```

## 📊 現在実装済み機能（Phase 0）

### ✅ コア機能
- **マルチテナント基盤**: 完全なテナント分離とセキュリティファースト設計
- **認証システム**: テナントベース認証、役割ベースアクセス制御
- **AI コンテンツ生成**: 5業界×3成長ステージ×4チャネル対応
- **LocalePack システム**: 日本特化の文化的文脈を自動考慮
- **法令チェック**: 景表法・薬機法・金商法の自動チェック
- **90秒要約レポート**: 即座にマーケティング効果を把握
- **ダッシュボード**: リアルタイム統計とコンテンツ管理

### 📋 主要API エンドポイント

#### 認証系
- `POST /api/auth/login` - ログイン
- `POST /api/auth/logout` - ログアウト
- `GET /api/auth/profile` - プロフィール取得

#### テンプレート系
- `GET /api/templates` - 全テンプレート取得
- `GET /api/templates/:category` - カテゴリ別テンプレート

#### コンテンツ系
- `POST /api/content/generate` - AIコンテンツ生成
- `POST /api/content/generate-batch` - バッチ生成
- `GET /api/content/history` - 生成履歴
- `GET /api/content/:id` - 特定コンテンツ取得
- `POST /api/content/:id/approve` - コンテンツ承認

#### 法令チェック系
- `GET /api/content/:id/legal-check` - 法令チェック結果取得
- `POST /api/content/:id/legal-check` - 手動法令チェック実行

#### システム系
- `GET /api/health` - ヘルスチェック

## 🏗️ データアーキテクチャ

### データベース構造（Cloudflare D1）
- **テナント管理**: 完全分離型マルチテナント
- **ユーザー管理**: 役割ベースアクセス制御
- **コンテンツ生成履歴**: 完全な監査ログ
- **法令チェック結果**: 詳細な違反分析
- **テンプレート管理**: 業界・ステージ・チャネル別

### ストレージサービス利用
- **D1 Database**: メインデータベース（SQLite）
- **Workers AI**: コンテンツ生成エンジン
- **KV Storage**: セッション・キャッシュ（未実装）
- **R2 Storage**: ファイルストレージ（未実装）

## 🎮 ユーザーガイド

### 1. ログイン
1. トップページの「ログイン」ボタンをクリック
2. メールアドレスとテナントIDを入力
3. 認証完了後、自動的にダッシュボードに移行

### 2. AIコンテンツ生成
1. 「コンテンツ生成を試す」ボタンをクリック
2. 業界・成長ステージ・チャネルを選択
3. プロンプトを入力して「コンテンツ生成」実行
4. 生成結果の確認と品質スコア確認
5. 法令チェック実行（自動 + 手動）
6. 承認フローで最終確定

### 3. 法令チェック機能
- **景表法**: 優良誤認・有利誤認・誇大表現の自動検出
- **薬機法**: 医療機器・薬事効果・身体部位効果の検出
- **金商法**: 投資勧誘・金融商品リスク表記の確認
- **リスクレベル**: 1（低リスク）～5（高リスク）で評価
- **修正提案**: 具体的な改善案と法的根拠を提示

### 4. ダッシュボード機能
- **最近のコンテンツ**: 生成履歴と承認状況
- **統計情報**: 生成数・合格率・承認率・品質スコア
- **90秒要約**: 重要な指標をひと目で確認

## 🚀 デプロイメント情報

### 技術スタック
- **フレームワーク**: Hono (軽量高速フレームワーク)
- **ランタイム**: Cloudflare Workers
- **データベース**: Cloudflare D1 (SQLite)
- **AI エンジン**: Cloudflare Workers AI
- **フロントエンド**: Vanilla JavaScript + Tailwind CSS
- **開発環境**: PM2 + Wrangler

### 開発環境セットアップ
```bash
# 依存関係インストール
npm install

# データベース初期化
npm run db:migrate:local
npm run db:seed

# 開発サーバー起動
npm run build
pm2 start ecosystem.config.cjs

# 健康状態確認
curl http://localhost:3000/api/health
```

### 環境変数
```bash
# 開発環境 (.env.local)
JWT_SECRET=dev-jwt-secret-key
OPENAI_API_KEY=sk-xxx  # オプション（フォールバック用）

# 本番環境
JWT_SECRET=production-secret-key
CLOUDFLARE_API_TOKEN=xxx
```

## 📈 Phase 0 成果指標

### 実装済み機能統計
- ✅ **コア機能**: 10/10 完了
- ✅ **セキュリティ**: SOC2準拠設計完了
- ✅ **法令対応**: 3法令（景表法・薬機法・金商法）対応
- ✅ **AI機能**: LocalePack対応コンテンツ生成
- ✅ **データベース**: 完全テナント分離実装

### 目標達成状況
- 🎯 **90秒要約レポート**: ✅ 実装完了
- 🎯 **3クリック実施**: ✅ UI/UX実装完了
- 🎯 **法令チェック**: ✅ 自動チェック実装完了
- 🎯 **70%効率化**: 🔄 社内検証中

## 🔄 未実装機能（今後の展開）

### Phase 1 予定機能
- 外部API連携（GA4・Meta・LinkedIn）
- RAG機能（クライアント固有データ学習）
- 競合分析エンジン
- 予測AI（エンゲージメント・ROI予測）

### Phase 2 予定機能
- セルフオンボーディング
- 使用量ベース課金
- マルチモーダル機能
- エコシステム連携

### Phase 3 予定機能
- 全業界LocalePack
- 海外展開（英語・中国語）
- API公開
- マーケットプレイス

## 🛠️ 開発・保守情報

### コードベース構造
```
webapp/
├── src/
│   ├── auth/           # 認証システム
│   ├── db/             # データベース層
│   ├── services/       # ビジネスロジック
│   ├── routes/         # APIルート
│   └── types.ts        # TypeScript型定義
├── migrations/         # データベースマイグレーション
├── public/static/      # 静的ファイル
├── logs/              # アプリケーションログ
└── ecosystem.config.cjs # PM2設定
```

### 監視・ログ
- **アプリケーションログ**: `logs/` ディレクトリ
- **PM2監視**: `pm2 list`, `pm2 logs --nostream`
- **ヘルスチェック**: `/api/health` エンドポイント
- **データベース監視**: D1ダッシュボード

### セキュリティ設定
- HTTP セキュリティヘッダー設定済み
- CORS 適切に設定
- レート制限実装
- セッション管理（HttpOnly Cookies）
- SQL インジェクション対策

## 👥 開発チーム・連絡先

### プロジェクト体制
- **プロジェクトリード**: 趙 権益
- **開発チーム**: BGA株式会社 & Apoptosis株式会社
- **アーキテクト**: マルチテナント・セキュリティファースト設計

### サポート・問い合わせ
- **技術サポート**: admin@bga.co.jp
- **ビジネス問い合わせ**: contact@bga.co.jp
- **緊急連絡**: 24/7サポート（Phase 1以降）

## 📄 ライセンス・著作権

© 2025 BGA株式会社 & Apoptosis株式会社. All rights reserved.

生成AI活用 B2Bデジタルマーケティング自動化SaaS - Phase 0 MVP

---

**最終更新**: 2025年8月15日  
**バージョン**: 1.0.0-phase0  
**ステータス**: ✅ Phase 0 MVP 完了